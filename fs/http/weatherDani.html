<!DOCTYPE html>
<html>

    <head>
        <title>Weather</title>
       
    </head>

    <body>
         <script>
            var xmlhttp = new XMLHttpRequest();

            var url = "http://api.openweathermap.org/data/2.5/forecast?q=Tel Aviv, IL&units=metric&id=524901&APPID=61452af0ab2ae5d8b076fb3e7dad18cc";
            
            xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                var myArr = JSON.parse(this.responseText);
                myFunction(myArr);
                }
            };

            xmlhttp.open("GET", url, true);
            xmlhttp.send();

            function myFunction(arr) {
                document.getElementById("id1").innerHTML = "City: " + arr.city.name + ", " + arr.city.country + "<br/>";
                var i = 0;
                var d = new Date();

                for (i = 0; i < 40; ++i)
                {
                    var time = d.getTime() + arr.list[i].dt;
                    var we = arr.list[i].weather.description;
                    document.getElementById("id2").innerHTML += time + "\n";
                    document.getElementById("id3").innerHTML += we + "\n";
                }
            }
            
        </script>
        <div id = "id1"></div>
        <div id = "id2"></div>
        <div id = "id3"></div>
        
    </body>

</html>